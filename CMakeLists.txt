cmake_minimum_required(VERSION 3.10)
project(qrcodegen_dll LANGUAGES CXX)

add_library(qrcodegen SHARED
    qrcodegen.cpp
    wrapper.cpp
)

target_include_directories(qrcodegen PUBLIC
    ${PROJECT_SOURCE_DIR}
)

# ğŸ‘‡ åŠ è¿™ä¸¤å¥ï¼Œä¿è¯Windowsæ­£ç¡®å¯¼å‡º DLL ç¬¦å·
target_compile_definitions(qrcodegen PRIVATE QR_DLL_EXPORTS)
set_target_properties(qrcodegen PROPERTIES
    WINDOWS_EXPORT_ALL_SYMBOLS ON
    OUTPUT_NAME "qrcodegen"
)
